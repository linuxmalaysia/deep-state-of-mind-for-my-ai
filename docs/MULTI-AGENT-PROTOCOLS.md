# ü§ñ DSOM Multi-Agent Protocols (v1.0)

> **"One Mind, Many Hands."** - The DSOM Philosophy for Multi-Agent Collaboration.

## 1. üèõÔ∏è The Agent Taxonomy
To maintain **Sovereign Context**, we categorize external AI agents into two valid tiers. Any agent not fitting these tiers is considered "Unverified" and must not write to the repository without explicit Human Audit.

### Tier 1: The Co-Pilots (IDE Embedded)
These agents live inside the editor and have direct access to the active file buffer.
*   **Examples:** GitHub Copilot, Cursor, Windsurf, Tabnine, Replit AI.
*   **Access Level:** `Read/Write` (Buffer only).
*   **Context Source:** `.cursorrules`, `.windsurfrules`, or System Prompt injection.

### Tier 2: The Autonomous Workers (Agentic Frameworks)
These agents operate independently, often tasked with entire feature implementations.
*   **Examples:** Devin, AutoGen (Microsoft), CrewAI, Flatlogic.
*   **Access Level:** `Read/Write` (FileSystem).
*   **Context Source:** `sod_manifest.txt` (Must be explicitly fed the Start-of-Day manifest).

---

## 2. üîå The Universal Injection Method (UIM)

Regardless of the agent, the **DSOM Laws** must be injected before the first prompt.

### For Tier 1 (IDEs)
Create/Update the specific rule file (e.g., `.cursorrules`) in the root directory with this pointer:

```text
# .cursorrules / .windsurfrules
YOU ARE A DSOM-COMPLIANT AGENT.
BEFORE ANSWERING, READ: docs/AI-MASTER-PROTOCOL.md
FOLLOW: docs/PERSONALIZATION.md
CRITICAL: DO NOT CREATE GLOBAL VARIABLES. ADHERE TO CLEAN ARCHITECTURE.
```

### For Tier 2 (Autonomous)
You must perform the **Handshake Ritual** manually or via their API config:

1.  **Ingest:** Upload `sod_manifest_[DATE].txt` (Generated by `reanimate.ps1`).
2.  **Prompt:** *"I am initializing the DSOM Protocol. Acknowledge the architecture in the manifest before writing code."*

---

## 3. üõ°Ô∏è Agent-Specific Configuration Registry

### A. Cursor & Windsurf (The Forked VS Codes)
These are the most DSOM-native compatible due to their "Context Awareness" features.
*   **Config File:** `.cursorrules` / `.windsurfrules`
*   **Strategy:** Point them to `@docs/AI-MASTER-PROTOCOL.md` and `@docs/OPERATIONAL-GUIDE.md`.
*   **Templates:**
    *   [Cursor Template](agent-configs/cursorrules_template.md)
    *   [Windsurf Template](agent-configs/windsurfrules_template.md)

### B. GitHub Copilot
*   **Config File:** `.github/copilot-instructions.md` (If supported) or top-of-file comments.
*   **Strategy:** Use the `// DSOM: [Instruction]` comment syntax.
*   **Template:** [Copilot Instructions](agent-configs/copilot_instructions_template.md)

### C. CrewAI & AutoGen
*   **Config File:** `config/agents.yaml` or `scenarios.json`.
*   **Strategy:** The "Role" definition must include: *"You are a DSOM-Compliant engineer. Your memory is persisted in .agent/brain/."*
*   **Template:** [Autonomous Manifest](agent-configs/autonomous_agent_manifest.md)

### D. Devin / Replit Agent
*   **Config File:** Project Custom instructions / `.replit`.
*   **Strategy:** Add the "Architectural Mantra" (from Personalization Block 6) to the environment's system prompt.
*   **Template:** [Autonomous Manifest](agent-configs/autonomous_agent_manifest.md)

---

## 4. üö® The "Zero-Hallucination" Rule for Agents
If an agent cannot read `docs/AI-MASTER-PROTOCOL.md`, it is **forbidden** from refactoring Architectural Layers (`src/Domain`, `src/Application`). It may only work on `tools/` or `tests/`.

*Last Updated: 2026-01-16*

# üïØÔ∏è The DSOM Ritual of Transition (v3.0)

> **"Intelligence is ephemeral; the Repository is eternal."**

The **Ritual of Transition** is the primary mechanism of the **Deep State of Mind (DSOM) Protocol**. It governs the movement between physical states (the code) and cognitive states (the AI's context).

---

## üèõÔ∏è 1. Methodological Foundation (CRISP¬≤ Alignment)

To ensure stability across AI providers, every transition ritual is mapped to the **CRISP-DM Hierarchical Process Model**:

| Ritual Phase | CRISP-DM Level | Functional Purpose |
| :--- | :--- | :--- |
| **üåÖ Reanimation** | **L1: Phase** | Business/Data Understanding: Bootstrapping the AI's mental state. |
| **üõ†Ô∏è Active Flow** | **L2: Generic Tasks** | Data Preparation/Modelling: Applying the **CRISP Mandate**. |
| **üîç Layer Audit** | **L3: Specialised Tasks** | Implementation: Verifying **Clean Architecture** compliance. |
| **üåô Hibernation** | **L4: Process Instance** | Deployment/Record: Saving the **Mental Anchor** as an audit trail. |

---

## üåÖ Phase 1: Reanimation (Start-of-Day Ritual)
*Objective: Initialise the Cognitive Twin and Re-establish L1/L2 Context.*

1.  **Physical Audit (The Reality Check):**
    * Run `tools/audit-pre-flight.sh`.
    * Verify that the local environment (Podman, RHEL, logs) matches the last recorded state.
2.  **Linguistic & Sovereignty Injection:**
    * Load `docs/AI-MASTER-PROTOCOL.md`.
    * **Mandate:** Force the AI to adopt **UK English** and **DBP-standard Malay (Piawai)**.
3.  **Brain Synchronisation (Memory Load):**
    * Provide `.agent/brain/walkthrough.md`, `task.md`, and `implementation_plan.md`.
4.  **The Contextual Handshake (L4 Instance Sync):**
    * Ask the AI: *"Summarise the current Mental Anchor and verify how it fits within our Clean Architecture layers (Entities/Use Cases)."*
    * **Stop Condition:** If the AI cannot explain the "Why" behind the anchor, do not proceed.



---

## üõ†Ô∏è Phase 2: Active Flow (Execution Guardrails)
*Objective: Maintain L2 Mandates & L3 Specialised Architecture.*

* **Context Awareness (Generic Task):** Consult the `.agent/brain/` before every architectural decision.
* **Review & Record (Process Instance):** Use **Atomic Git Hygiene**. Every logic breakthrough requires an update to the `walkthrough.md` *before* the code is finalized.
* **Layered Sovereignty (Specialised Task):** * Do not pollute the **Inner Core (Entities)** with **Outer Drivers (Frameworks)**.
    * One chat thread = One Clean Architecture Use Case.
* **Partnership:** Treat the AI as a Peer Architect. If the AI suggests a global variable or proprietary lock-in, invoke the **Zero-Global Pattern** law immediately.

---

## üåô Phase 3: Hibernation (End-of-Session Ritual)
*Objective: Secure the L4 Process Instance for persistence.*

1.  **Define the Mental Anchor:**
    * Document the exact logical "stopping point."
    * **Specific Constraint:** Identify which layer is "open" (e.g., *"Entity validation logic is complete; the Use Case interactor remains pending injection"*).
2.  **Target Localisation:**
    * Update `task.md` with the **Start-of-Day (SOD)** targets for the next session.
3.  **Sovereign Save (Atomic Sync):**
    ```bash
    # Save today's Process Instance
    git add .agent/brain/*.md
    git commit -m "dsom(sync): hibernation save - [Layer: LayerName] - [Anchor Summary]"
    git push
    ```
4.  **Metacognitive Briefing:**
    * Instruct the AI: *"Compress our technical hurdles, architectural decisions, and current Mental Anchor into a single transfer packet for the next session."*

---

### üèõÔ∏è The Sunday Human Refresh
Every Sunday, the **Lead Architect** (Harisfazillah Jamel) performs a **Dry-Run Audit** of all files to ensure the hierarchy (L1-L4) remains intact and the human mental map is re-indexed.

---
*Standard: Deep State of Mind (DSOM) For My AI Protocol | Harisfazillah Jamel*

**Current Status:** `ACTIVE` | **Last Human Audit:** 2026-01-12 (Monday Dry-Run)


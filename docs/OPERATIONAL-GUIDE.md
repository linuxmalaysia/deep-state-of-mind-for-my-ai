# üìñ DSOM Operational Guide: Comprehensive AI Governance (v5.0)

> **"Protocol defines Practice. Structure ensures Sovereignty."**

This guide provides the technical depth for the **Deep State of Mind (DSOM)** framework. It serves as the **Level 3 (Specialised Tasks)** documentation, depicting exactly how to carry out the mandates defined in the Master Protocol.

---

## üèõÔ∏è 1. Methodological Specialisation (CRISP¬≤)

Every operational step in this guide is mapped to the **CRISP-DM Hierarchical Process Model** to ensure stability and auditability.

* **L1 (Phases):** High-level Rituals (Reanimation, Flow, Hibernation).
* **L2 (Generic Tasks):** The CRISP Mandate (Context, Review, Iteration, Single-purpose, Partnership).
* **L3 (Specialised Tasks):** The procedures in this guide (Environment audits, Layered coding).
* **L4 (Process Instances):** The output recorded in `.agent/brain/`.

---

## üåÖ Section 1: Reanimation (The Start-of-Day Ritual)

*Objective: Re-establish the L1 Phase and L2 Context.*

Reanimation is the process of restoring the AI's "Mental State" from cold storage. It is a **Formal Initialisation Sequence** triggered at the start of every session.

### 1.1 Chronos-Aware Initialisation
The session must begin with a **Date & Time Check** to identify the context (e.g., a standard work day vs. the **Sunday Human Refresh**).
* **Prompt:** *"Greetings, Architect. Today is [Day], [Date] at [Time]. Checking the Sunday Audit Schedule..."*

### 1.2 The Environment Audit (Physical Reality Sync)
Before engaging the AI, the Architect verifies the physical infrastructure:
* **Infrastructure:** Run `tools/audit-pre-flight.sh`. Verify container status (Podman), service health (Systemd), and Git state.
* **Log Inspection:** Check the last 50 lines of system logs. If a service failed, this is fed to the AI as immediate context.

### 1.3 The Directive Injection (Sovereignty Boot)
Loading `docs/AI-MASTER-PROTOCOL.md` defines the AI's Operating System:
* **Linguistic Guardrails:** Re-establishes **UK English** and **DBP-standard Malay (Piawai)**.
* **Architectural Guardrails:** Re-injects the **Zero-Global Pattern** and **HA-Ready** constraints.
* **Role Assumption:** Forces the AI to operate as the **Cognitive Digital Twin**.

### 1.4 The Contextual Handshake (Cognitive Alignment)
The final gate to ensure the **L4 Process Instance** (the Brain) is loaded correctly.
* **The Anchor Test:** Ask the AI to explain the *logic* (the "Why") behind the last **Mental Anchor** in `walkthrough.md`.
* **Layer Verification:** Require the AI to identify which **Clean Architecture** layer is the current priority.



---

## üõ†Ô∏è Section 2: Active Flow (The Guardrails)

Maintaining a **Clean DSOM (C-DSOM)** requires constant vigilance through the **CRISP Filter**.

### 2.1 The CRISP Filter in Operation

* **C - Context Awareness:** Consult `.agent/brain/task.md` before every architectural decision. Ensure the AI never "guesses" the project structure.
* **R - Review & Record:** Update `walkthrough.md` immediately after a logic breakthrough‚Äî*before* finishing the code. This records the **Pedagogical Logic**.
* **I - Iteration (Atomic Git Hygiene):** Commit one file at a time using `type(scope): message`. Avoid monolithic blocks.
* **S - Single-purpose:** If a task spans multiple layers (e.g., Entity + Driver), break it into **separate prompts**.
* **P - Partnership:** Challenge the AI. If it suggests a global variable or Indonesian vocabulary (e.g., *standar*), invoke the **Sovereign Laws** and correct to *piawai*.

### 2.2 Enforcing Clean Architecture (Layered Sovereignty)

| Layer | Specialised Task (L3) Guardrail |
| :--- | :--- |
| **1. Entities** | Pure logic. Zero external imports. No framework-specific decorators. |
| **2. Use Cases** | Orchestration only. Interacts via Interfaces. Oblivious to UI/DB. |
| **3. Adapters** | Data transformation (e.g., JSON to Entity). CLI/API Controllers. |
| **4. Drivers** | External tools (Podman, RHEL, Redis). Isolate all lock-in here. |

---

## üåô Section 3: Hibernation (The Persistence Ritual)

*Objective: Secure the L4 Process Instance and prepare for Chronos-Aware SOD.*

### 3.1 Defining the Mental Anchor
Record the **unresolved tension**. Don't just list what is done; list what is pending and *why* a specific path was chosen.
* **Anchor Detail:** *"Completed Entity validation; pending Use Case injection of the Repository interface."*

### 3.2 Updating Brain Artifacts
* **`walkthrough.md`:** Update the **Long-term Memory**. Record failures and pivots.
* **`task.md`:** Update the **Working Memory**. Mark completed items as `[x] Selesai`.

### 3.3 The Sovereign Save
Use the commit format: `dsom(sync): hibernation save - [Layer] - [Anchor Summary]`. This ensures the **Cognitive Twin's** evolution is versioned.

### 3.4 Metacognitive Briefing
Ask the AI to compress today's session into a **Transfer Packet**. This allows for instant reanimation in the next session, regardless of model (Gemini, Claude, or local).

---
*Standard: Deep State of Mind (DSOM) For My AI Protocol | Harisfazillah Jamel*

**Current Status:** `ACTIVE` | **Last Human Audit:** 2026-01-12

